# Pfade
VENV_DIR := .venv
REQ_FILE := requirements.txt

# Standardziel
.DEFAULT_GOAL := help

# Ziel: Virtuelle Umgebung erstellen und AbhÃ¤ngigkeiten installieren
setup: $(VENV_DIR)/bin/activate
	@echo "âœ… Virtuelle Umgebung bereit."

# VENV erstellen, falls nicht vorhanden
$(VENV_DIR)/bin/activate:
	@echo "ğŸ Erstelle virtuelle Umgebung..."
	python3 -m venv $(VENV_DIR)
	@echo "ğŸ“¦ Installiere AbhÃ¤ngigkeiten..."
	. $(VENV_DIR)/bin/activate && pip install --upgrade pip && pip install -r $(REQ_FILE)

# Ziel: Virtuelle Umgebung aktivieren (Hinweis)
activate:
	@echo "ğŸ‘‰ Aktiviere mit:"
	@echo "source $(VENV_DIR)/bin/activate"

# Ziel: Update-Skript manuell starten
run:
	@echo "ğŸš€ Starte Update-Prozess..."
	. $(VENV_DIR)/bin/activate && python3 update.py

# Ziel: Hilfe anzeigen
help:
	@echo "Makefile Befehle:"
	@echo "  make setup     - Erstellt .venv und installiert requirements"
	@echo "  make activate  - Zeigt Aktivierungsbefehl fÃ¼r die Shell"
	@echo "  make run       - FÃ¼hrt update.py innerhalb von .venv aus"